sudo: false
language: java
jdk: oraclejdk8
script:
- "./gradlew test"
after_success:
- mv build/distributions/nspek-integration-*.zip build/distributions/nspek-integration.zip
- test "$TRAVIS_BRANCH" == "master" && ./gradlew publishPlugin
env:
  global:
  - secure: G3r+NtLpp26RD71n/sLVrPrpuZvdwQ5ia935TBgSMNxctE/yLvWniVP6aPMnKM54LuNAFBEnWjsUyAi9NOFAaXGSDnM1ks9jyNBOhPGaQ+C7kBA66ofzckwMUfy5FU6ViPbfJigkdmUQAOTm7E2dKDAbGZDaqY3V4VO/YWS/KiU37b0Gc1GeCV/BIqqHm6BqZJSj2dfwUyCjeOHYL/1M9g2t8ZqRnT3f+ZK4JFnzOnBsl+tLJBe7CxEtUXCsEQUvenjRR2UIaqOv7gkoXEHm+n3flTF3R2WP7uPo7SGInc3XXbJ3b+Fg5fawMUneWPAALqLWawmmyeGjeQSVow1YJt8kPcjmj8LdePj05jIX/SpPR71JRaWrErB5k/uzszf60BkFH8ioyTAq8WOQgE35nc2xQ59WDh4RQICAMKF8RB82x/rRe9L4C+LMDKl6WNG72yMlkoOx92MnJFutHwKvBwu0z2RIFUzt2Uoe3ovLGqlNcm1LUbDGtpVA7PDWF/IdNluBcchoONy6i/ZIaBumd87R/d4521FA1Al1m0yzG8uc9vab4G3hdaIjmZJyZ50V54wvWQ/BsuPEwuXOmHEwVengK7BQkVHDoZjSHy+R5VeG2hzoFmFb1osdkczBqhYPAEsxgN/4natAK64ABMtLG8cDr+7wc/VsihECrsgN48U=
  - secure: noHyAo+YLRBUwKJF4ByhztZdE6S9BHAy6q2iNRi3/DiyfigYJLFVAmEIEW2FqZ6N7lu5gUfe+QxdJOSaVYXGgfjOkY2ii3imqh3JX9vn9aCzQrkIXDxeW6s5mclSRqFGzPPgX48Gct56auFrjb/xmMflobNXtsjxUwnJlnZYEUiIcmpgGNiywAjXxko5FBD4tJg5Fnq7/ySMEKHSQoXSqlk9Kth0gPbYFO5hf7Yy1EDbBDg2/guWOr51xJS9Eq7Kz12lYnaIFpApNSQXJsP9zP13fBLxEzm8B+HDIpwaqTwqBgxGNOAN636xRYRD85sby1TYzQ/dSrBzIw2AclwVPtnsoClnHWcc3T3CxquAyyDVoFmrvhcGfTwry+fo8Soq7Zc8GG+GQdmLwZTG5i+D/VVSZlhiQI9zXcoP5OD+VsI0WF6y9Vs6S+BGy3Nb92NqRtUx5XuMsG/B5EnCBdgM5k//AnKP3/ZzbsuVtxW1eSW5xJvmijdtHRb8AI2ZeTowox8T2Cgc0BLMVob6nE0TG/B7aZCjZ89f9pOCj84bzpUwlQ++dNFN10HD4CYyOOfwG0jNdKJhDGhAlDX+1yqli+qhLxKmYyf1m09QXuq/I3UjAg5qjFziAWrHgoMS+1ELdaFNqkKUFe5oOgMUH1fareyBalqL3CTbMgsbj0tPF3o=
  - secure: t05C0Azkb0TnaXN07/rG8RbyPxK2+i5zcSKpb4tM2v/JVnOzthbFD0cr0oZtrkhpB8Moq82j5XxH9Z+DFVXfrmXaWWiT2qMaDOk1vlRg2PXhv5G8fSZc/vrJ8biXfpLM0ETNiIAZUeXuocVxrfr+hijd5uXXGXCBgf6RDk939ro2Z6vNOldM4DnQbVvvTGiyDM3Wb8Yq8Nuh9GU8X/ez1NXmJZ16G79x8yl6issf5LM0yRvRA9GnXu68VudZNYAZefD/Z3LoCXkTI+zr8I7/j9hFVkQWlMLgjUs6PZD+bX6E/KKRXzzH8fXS/BHq1BcY6M3lR49WECOWX6H4FGTUU2tyM5LkVaeg9flEL812XsYS0zBEN+j08N9xtE6q94bAGmUvfqt4aRtBUJ4lfcGRW0ZXZCDYm1MWXelThKZR+a+s2syfzDw9WEO5paYHVzSFmSwOAuNJ7Q497xGQ18JdXF3Ky5m2XGPWL8dftr0I6uMm6nclFzjFy0syypUJJu6FWGkjQKPZHAIPAwb/PXXk5eUTLYybcFWMTwU9Bfa0/niv3EbJilnE/Utkp5fa9XGFRDMq6lK8IrD/btK0KRrOWXg/mUVwUViygMvB1/s38k7b30I34E4JcLqN3ipr/H8XP21PMSEfw61kTDhXYet80I8b1aUih9G6BBx5jFOKAVw=
deploy:
  provider: releases
  api_key:
    secure: BKJeLq6tx84WQDel8uMZAvLxWjygX6KVzyrjy/h8PLPWUPYHI7WHJoeo5qEZn6+xI6vRiohDP1OnKS3eOQEsV36xZWW2IGYjK7KN5LEkmPp6hGj8LlK2f+NO/4/XA0RHxay+sdy3lrTNJH5v769ZKUIP/T6kxquSRVBO4sI9qeUbDHk/kxLZMksFBmJiiv1OJXS/Da5DMZXVBejRibCK6WFLTJZyKaEWhAnNub5w3p2Q6eG1OYPWF3fz//wR4WYDCC4mo2FsMTwdMLlTu/mlSjOQ6CY/MBB3hGAj9SYqPLdY+y2pk36TNWoMHErCkxLBV0MjsmRsi5w0N2RNx5L0Bf+1gNkZYw/fF5W3nWrMOg5Uqi8JRPtA3bnM3+V0e6mX9AbIHQso5KqmTNWVzGBiI6FQ6fULL+d1SNv+NoVmfyCfUT1cpZXxDiSrxBll35dtabZnSrx2xEgwqXnixlrkbJDShGDZSDbjko59Lu5wZYylLtzHMpUEHrGcNGlle+QpjptoWa8StO1Llq3JWgkdBJ0zZWaiX28mZhMGhv1sldRw0ZgaS8tHB8LiuFxTv+NwTRY80Ztm9Yd5kTPJR12Ow9BS+cjW81tTvjDlWQXUb4Uoor6+7Ast3EvU/kf8WhBtCoiXj0CEzkDV6gajKGYPyENd2wn7vFNFTcoNSd2rTp0=
  file: build/distributions/nspek-integration.zip
  skip_cleanup: true
  on:
    repo: ghostbuster91/nspek-intellij-plugin
    branch: master
